{# templates/session/edit.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Modifier {{ session.code }}{% endblock %}

{% block body %}
<div class="container">
    {# Fil d'Ariane #}
    <nav class="breadcrumb" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1.5rem; font-size: 0.875rem; color: var(--color-text-muted);">
        <a href="{{ path('app_dashboard') }}" style="color: var(--color-text-muted); text-decoration: none;">Tableau de bord</a>
        <span style="color: var(--color-border);">›</span>
        <a href="{{ path('app_session_index') }}" style="color: var(--color-text-muted); text-decoration: none;">Sessions</a>
        <span style="color: var(--color-border);">›</span>
        <a href="{{ path('app_session_show', {id: session.id}) }}" style="color: var(--color-text-muted); text-decoration: none;">{{ session.code }}</a>
        <span style="color: var(--color-border);">›</span>
        <span>Modifier</span>
    </nav>
    
    {# Messages flash #}
    {% for type, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert--{{ type }}" style="margin-bottom: 1rem;">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}
    
    {# En-tête #}
    <div style="margin-bottom: 2rem;">
        <h1 style="font-size: 1.5rem; font-weight: 600; margin: 0 0 0.5rem 0; display: flex; align-items: center; gap: 0.5rem;">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--color-primary);">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
            Modifier la session
        </h1>
        <p style="color: var(--color-text-muted); margin: 0;">
            <strong>{{ session.code }}</strong> - {{ session.libelle }}
        </p>
    </div>
    
    {# Badge statut actuel #}
    <div style="margin-bottom: 1.5rem;">
        <span class="statut-badge statut-{{ session.statut }}" style="
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.35rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        ">
            Statut actuel : {{ session.statutLibelle }}
        </span>
    </div>
    
    <style>
        .statut-planifiee { background: #e3f2fd; color: #1565c0; }
        .statut-inscriptions_ouvertes { background: #fff3e0; color: #e65100; }
        .statut-en_cours { background: #e8f5e9; color: #2e7d32; }
        .statut-terminee { background: #f3e5f5; color: #7b1fa2; }
        .statut-annulee { background: #ffebee; color: #c62828; }
    </style>
    
    {# Formulaire #}
    {% include 'session/_form.html.twig' with {
        'form': form,
        'button_label': 'Enregistrer les modifications'
    } %}
</div>
{% endblock %}
